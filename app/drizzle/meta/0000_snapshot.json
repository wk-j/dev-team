{
  "id": "5fa91362-dc02-4bba-975d-5562f42606f6",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.energy_events": {
      "name": "energy_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "work_item_id": {
          "name": "work_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "stream_id": {
          "name": "stream_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "target_user_id": {
          "name": "target_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "energy_events_team_idx": {
          "name": "energy_events_team_idx",
          "columns": [
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "energy_events_occurred_at_idx": {
          "name": "energy_events_occurred_at_idx",
          "columns": [
            {
              "expression": "occurred_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "energy_events_type_idx": {
          "name": "energy_events_type_idx",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "energy_events_team_id_teams_id_fk": {
          "name": "energy_events_team_id_teams_id_fk",
          "tableFrom": "energy_events",
          "tableTo": "teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "energy_events_user_id_users_id_fk": {
          "name": "energy_events_user_id_users_id_fk",
          "tableFrom": "energy_events",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "energy_events_work_item_id_work_items_id_fk": {
          "name": "energy_events_work_item_id_work_items_id_fk",
          "tableFrom": "energy_events",
          "tableTo": "work_items",
          "columnsFrom": [
            "work_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "energy_events_stream_id_streams_id_fk": {
          "name": "energy_events_stream_id_streams_id_fk",
          "tableFrom": "energy_events",
          "tableTo": "streams",
          "columnsFrom": [
            "stream_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "energy_events_target_user_id_users_id_fk": {
          "name": "energy_events_target_user_id_users_id_fk",
          "tableFrom": "energy_events",
          "tableTo": "users",
          "columnsFrom": [
            "target_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.resonance_connections": {
      "name": "resonance_connections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id_a": {
          "name": "user_id_a",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id_b": {
          "name": "user_id_b",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "resonance_score": {
          "name": "resonance_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "shared_work_items": {
          "name": "shared_work_items",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "shared_streams": {
          "name": "shared_streams",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "ping_count": {
          "name": "ping_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "established_at": {
          "name": "established_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_interaction_at": {
          "name": "last_interaction_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "resonance_connections_team_idx": {
          "name": "resonance_connections_team_idx",
          "columns": [
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "resonance_connections_user_pair_idx": {
          "name": "resonance_connections_user_pair_idx",
          "columns": [
            {
              "expression": "user_id_a",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id_b",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "resonance_connections_team_id_teams_id_fk": {
          "name": "resonance_connections_team_id_teams_id_fk",
          "tableFrom": "resonance_connections",
          "tableTo": "teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "resonance_connections_user_id_a_users_id_fk": {
          "name": "resonance_connections_user_id_a_users_id_fk",
          "tableFrom": "resonance_connections",
          "tableTo": "users",
          "columnsFrom": [
            "user_id_a"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "resonance_connections_user_id_b_users_id_fk": {
          "name": "resonance_connections_user_id_b_users_id_fk",
          "tableFrom": "resonance_connections",
          "tableTo": "users",
          "columnsFrom": [
            "user_id_b"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.resonance_pings": {
      "name": "resonance_pings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "from_user_id": {
          "name": "from_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "to_user_id": {
          "name": "to_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "ping_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "ping_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'sent'"
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_work_item_id": {
          "name": "related_work_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "related_stream_id": {
          "name": "related_stream_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "resonance_pings_to_user_idx": {
          "name": "resonance_pings_to_user_idx",
          "columns": [
            {
              "expression": "to_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "resonance_pings_status_idx": {
          "name": "resonance_pings_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "resonance_pings_from_user_id_users_id_fk": {
          "name": "resonance_pings_from_user_id_users_id_fk",
          "tableFrom": "resonance_pings",
          "tableTo": "users",
          "columnsFrom": [
            "from_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "resonance_pings_to_user_id_users_id_fk": {
          "name": "resonance_pings_to_user_id_users_id_fk",
          "tableFrom": "resonance_pings",
          "tableTo": "users",
          "columnsFrom": [
            "to_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "resonance_pings_related_work_item_id_work_items_id_fk": {
          "name": "resonance_pings_related_work_item_id_work_items_id_fk",
          "tableFrom": "resonance_pings",
          "tableTo": "work_items",
          "columnsFrom": [
            "related_work_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resonance_pings_related_stream_id_streams_id_fk": {
          "name": "resonance_pings_related_stream_id_streams_id_fk",
          "tableFrom": "resonance_pings",
          "tableTo": "streams",
          "columnsFrom": [
            "related_stream_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.stream_divers": {
      "name": "stream_divers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "stream_id": {
          "name": "stream_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "dived_at": {
          "name": "dived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "surfaced_at": {
          "name": "surfaced_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "stream_divers_stream_user_idx": {
          "name": "stream_divers_stream_user_idx",
          "columns": [
            {
              "expression": "stream_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "stream_divers_active_idx": {
          "name": "stream_divers_active_idx",
          "columns": [
            {
              "expression": "surfaced_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "stream_divers_stream_id_streams_id_fk": {
          "name": "stream_divers_stream_id_streams_id_fk",
          "tableFrom": "stream_divers",
          "tableTo": "streams",
          "columnsFrom": [
            "stream_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "stream_divers_user_id_users_id_fk": {
          "name": "stream_divers_user_id_users_id_fk",
          "tableFrom": "stream_divers",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.streams": {
      "name": "streams",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "stream_state",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'flowing'"
        },
        "velocity": {
          "name": "velocity",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "path_points": {
          "name": "path_points",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "item_count": {
          "name": "item_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "crystal_count": {
          "name": "crystal_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "parent_stream_id": {
          "name": "parent_stream_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "evaporated_at": {
          "name": "evaporated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "streams_team_idx": {
          "name": "streams_team_idx",
          "columns": [
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "streams_state_idx": {
          "name": "streams_state_idx",
          "columns": [
            {
              "expression": "state",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "streams_team_id_teams_id_fk": {
          "name": "streams_team_id_teams_id_fk",
          "tableFrom": "streams",
          "tableTo": "teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.team_invites": {
      "name": "team_invites",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "invited_by_id": {
          "name": "invited_by_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "accepted_at": {
          "name": "accepted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "team_invites_team_idx": {
          "name": "team_invites_team_idx",
          "columns": [
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "team_invites_email_idx": {
          "name": "team_invites_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "team_invites_token_idx": {
          "name": "team_invites_token_idx",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "team_invites_team_id_teams_id_fk": {
          "name": "team_invites_team_id_teams_id_fk",
          "tableFrom": "team_invites",
          "tableTo": "teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "team_invites_invited_by_id_users_id_fk": {
          "name": "team_invites_invited_by_id_users_id_fk",
          "tableFrom": "team_invites",
          "tableTo": "users",
          "columnsFrom": [
            "invited_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "team_invites_token_unique": {
          "name": "team_invites_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.team_memberships": {
      "name": "team_memberships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "team_memberships_user_team_idx": {
          "name": "team_memberships_user_team_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "team_memberships_user_id_users_id_fk": {
          "name": "team_memberships_user_id_users_id_fk",
          "tableFrom": "team_memberships",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "team_memberships_team_id_teams_id_fk": {
          "name": "team_memberships_team_id_teams_id_fk",
          "tableFrom": "team_memberships",
          "tableTo": "teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.teams": {
      "name": "teams",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "constellation_layout": {
          "name": "constellation_layout",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "pulse_rate": {
          "name": "pulse_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 60
        },
        "total_crystals": {
          "name": "total_crystals",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "star_type": {
          "name": "star_type",
          "type": "star_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'main_sequence'"
        },
        "energy_signature_color": {
          "name": "energy_signature_color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": true,
          "default": "'#00d4ff'"
        },
        "orbital_state": {
          "name": "orbital_state",
          "type": "orbital_state",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "position_x": {
          "name": "position_x",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "position_y": {
          "name": "position_y",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "position_z": {
          "name": "position_z",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "current_energy_level": {
          "name": "current_energy_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "sanctum_theme": {
          "name": "sanctum_theme",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'deep_void'"
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "oauth_provider": {
          "name": "oauth_provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "oauth_provider_id": {
          "name": "oauth_provider_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "users_email_idx": {
          "name": "users_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_orbital_state_idx": {
          "name": "users_orbital_state_idx",
          "columns": [
            {
              "expression": "orbital_state",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_active_idx": {
          "name": "users_active_idx",
          "columns": [
            {
              "expression": "last_active_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_item_contributors": {
      "name": "work_item_contributors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "work_item_id": {
          "name": "work_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "energy_contributed": {
          "name": "energy_contributed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "first_contributed_at": {
          "name": "first_contributed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_contributed_at": {
          "name": "last_contributed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "work_item_contributors_item_user_idx": {
          "name": "work_item_contributors_item_user_idx",
          "columns": [
            {
              "expression": "work_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "work_item_contributors_work_item_id_work_items_id_fk": {
          "name": "work_item_contributors_work_item_id_work_items_id_fk",
          "tableFrom": "work_item_contributors",
          "tableTo": "work_items",
          "columnsFrom": [
            "work_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_item_contributors_user_id_users_id_fk": {
          "name": "work_item_contributors_user_id_users_id_fk",
          "tableFrom": "work_item_contributors",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_items": {
      "name": "work_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "stream_id": {
          "name": "stream_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "energy_state": {
          "name": "energy_state",
          "type": "energy_state",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'dormant'"
        },
        "energy_level": {
          "name": "energy_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "depth": {
          "name": "depth",
          "type": "work_item_depth",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "stream_position": {
          "name": "stream_position",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "primary_diver_id": {
          "name": "primary_diver_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "kindled_at": {
          "name": "kindled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "crystallized_at": {
          "name": "crystallized_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "crystal_facets": {
          "name": "crystal_facets",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "crystal_brilliance": {
          "name": "crystal_brilliance",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {
        "work_items_stream_idx": {
          "name": "work_items_stream_idx",
          "columns": [
            {
              "expression": "stream_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "work_items_energy_state_idx": {
          "name": "work_items_energy_state_idx",
          "columns": [
            {
              "expression": "energy_state",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "work_items_primary_diver_idx": {
          "name": "work_items_primary_diver_idx",
          "columns": [
            {
              "expression": "primary_diver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "work_items_stream_id_streams_id_fk": {
          "name": "work_items_stream_id_streams_id_fk",
          "tableFrom": "work_items",
          "tableTo": "streams",
          "columnsFrom": [
            "stream_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_items_primary_diver_id_users_id_fk": {
          "name": "work_items_primary_diver_id_users_id_fk",
          "tableFrom": "work_items",
          "tableTo": "users",
          "columnsFrom": [
            "primary_diver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.energy_state": {
      "name": "energy_state",
      "schema": "public",
      "values": [
        "dormant",
        "kindling",
        "blazing",
        "cooling",
        "crystallized"
      ]
    },
    "public.orbital_state": {
      "name": "orbital_state",
      "schema": "public",
      "values": [
        "open",
        "focused",
        "deep_work",
        "away",
        "supernova"
      ]
    },
    "public.ping_status": {
      "name": "ping_status",
      "schema": "public",
      "values": [
        "sent",
        "delivered",
        "read",
        "expired"
      ]
    },
    "public.ping_type": {
      "name": "ping_type",
      "schema": "public",
      "values": [
        "gentle",
        "warm",
        "direct"
      ]
    },
    "public.star_type": {
      "name": "star_type",
      "schema": "public",
      "values": [
        "sun",
        "giant",
        "main_sequence",
        "dwarf",
        "neutron"
      ]
    },
    "public.stream_state": {
      "name": "stream_state",
      "schema": "public",
      "values": [
        "nascent",
        "flowing",
        "rushing",
        "flooding",
        "stagnant",
        "evaporated"
      ]
    },
    "public.work_item_depth": {
      "name": "work_item_depth",
      "schema": "public",
      "values": [
        "shallow",
        "medium",
        "deep",
        "abyssal"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}